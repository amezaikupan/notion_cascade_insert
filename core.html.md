# core


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/amezaikupan/notion_cascade_insert/blob/main/notion_cascade_insert/core.py#L9"
target="_blank" style="float:right; font-size:smaller">source</a>

### Database

``` python

def Database(
    db_id, # Notion database ID
    notion, # Notion client instance
):

```

*Base class for interacting with a Notion database.*

------------------------------------------------------------------------

<a
href="https://github.com/amezaikupan/notion_cascade_insert/blob/main/notion_cascade_insert/core.py#L27"
target="_blank" style="float:right; font-size:smaller">source</a>

### TriggerDB

``` python

def TriggerDB(
    db_id, # Notion database ID
    notion, # Notion client instance
    status_prop, # Name of status property
    relation_prop, # Name of relation property
    qty_prop, # Name of the quantity property
):

```

*Database that triggers logging when updated.*

------------------------------------------------------------------------

<a
href="https://github.com/amezaikupan/notion_cascade_insert/blob/main/notion_cascade_insert/core.py#L87"
target="_blank" style="float:right; font-size:smaller">source</a>

### LogDB

``` python

def LogDB(
    db_id, # Notion database ID
    notion, # Notion client instance
    item_prop, # Name of item relation property
    amount_prop, # Name of the amount property
    trigger_prop, # Name of the trigger relation property
    reason_prop, # Name of the reason select property
):

```

*Database where transaction logs are written.*

Records all inventory or quantity changes with item references, amounts,
triggering events, and reasons for the change.

------------------------------------------------------------------------

<a
href="https://github.com/amezaikupan/notion_cascade_insert/blob/main/notion_cascade_insert/core.py#L57"
target="_blank" style="float:right; font-size:smaller">source</a>

### JunctionDB

``` python

def JunctionDB(
    db_id, # Notion database ID
    notion, # Notion client instance
    relation_prop, # Name of relation property to trigger items
    item_prop, # Name of relation property to log items
    amount_prop, # Name of amount propert
):

```

*Database that connects trigger items to log items with amounts.*

Acts as a many-to-many relationship table, storing which items are
affected by a trigger and their respective amounts or multipliers.

------------------------------------------------------------------------

<a
href="https://github.com/amezaikupan/notion_cascade_insert/blob/main/notion_cascade_insert/core.py#L120"
target="_blank" style="float:right; font-size:smaller">source</a>

### AutoLogger

``` python

def AutoLogger(
    trigger_db, # TriggerDB instance
    junction_db, # JunctionDB instance
    log_db, # LogDB instance
    trigger_status, # Status value that triggers logging
    multiplier:int=-1, # Amount multiplier (typically -1 for deduction)
):

```

*Orchestrates automatic logging from trigger to log via junction.*

Monitors trigger database changes and automatically creates
corresponding log entries by looking up related items through the
junction database.
